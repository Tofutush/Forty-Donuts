<!DOCTYPE html>
<html>
<head>
	<title>Story Map</title>
	<link rel="stylesheet" href="../style.css"/>
	<style>
		#title-box {
			border: 10px solid #0cf;
			background-color: #fff;
			padding: 5px;
			position: fixed;
			white-space: nowrap;
			filter: opacity(0);
			transition: filter .1s;
		}
		img {
			user-select: none;
		}
	</style>
</head>
<body>
	<nav id="navbar">
		<a href="../info">Story Info</a>
		|
		<a href="../log">Story Log</a>
		|
		<a id="back">Back to the Story</a>
		|
		<a href="https://mspfa.com/?s=48313&p=1">Forty Donuts on MSPFA</a>
		|
		<a href="https://mspfa.com">MSPFA Site</a>
		|
		<a href="https://homestuck.com">Homestuck Site</a>
	</nav>
	<div id="wrapper">
		<div id="frame">
			<div id="switch-lang"><a href="../zh/map">简体中文</a></div>
			<div id="command">Story Map</div>
			<div id="content">
				<p>PAGE STILL UNDER CONSTRUCTION. CONTENT IS TEMPORARY.</p>
				<img src="map.png" usemap="#map">
				<map name="map">
				    <area text="page 1" href="../?page=1" target="_blank" shape="rect" coords="181,742,425,874"/>
				    <area text="page 2adsadasd" href="../?page=2" target="_blank" shape="circle" coords="309,229,140"/>
				    <area text="page 3 ds s s s s s s s d f d " href="../?page=3" target="_blank" shape="poly" coords="676,375,650,311,689,310,709,344,738,336,775,338,796,361,806,392,807,419,808,437,795,448,755,449,739,459,722,467,697,539,656,483,620,516,603,460,559,519,531,530,538,420,556,375"/>
				</map>
				<div id="title-box"/>
			</div>
		</div>
	</div>
	<script src="../functions.js"></script>
	<script>
		let titleBox = document.getElementById('title-box');
		let mapAreas = document.querySelector('map').children;
		for(let z = 0; z < mapAreas.length; z++) {
			mapAreas[z].addEventListener('mouseover', e => {
				titleBox.innerText = mapAreas[z].getAttribute('text');
				titleBox.style.filter = 'opacity(1)';
			});
			mapAreas[z].addEventListener('mouseout', e => {
				titleBox.style.filter = 'opacity(0)';
			});
		};
		window.addEventListener('mousemove', e => {
			titleBox.style.top = (e.clientY + 20) + 'px';
			titleBox.style.left = (e.clientX + 20) + 'px';
		});
		// when going back, go to last visited page
		document.getElementById('back').href = `../?page=${window.localStorage.getItem('switchpagenum') || 1}`;
	</script>
</body>
